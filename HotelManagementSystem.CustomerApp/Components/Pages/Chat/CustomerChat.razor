@page "/customer-chat"
@using HotelManagementSystem.Domain.Features.Customer.CustomerInfo
@using HotelManagementSystem.Shared
@using HotelManagementSystem.Shared.Services.JwtService
@using HotelManagementSystem.Shared.Services.SignalRService
@inject ChatService ChatService
@inject CustomerInfoService _customerInfoService
@layout UserLayout

<h3>Live Chat</h3>

<MudItem Class="mt-3">
    @foreach (var msg in Messages)
    {
        <MudItem>
            <MudText Typo="Typo.body1">
                <strong>@msg.SenderType (@msg.User) :</strong> @msg.Text
            </MudText>
        </MudItem>
    }
</MudItem>

<MudTextField Class="mt-2" @bind-Value="Message" Label="Type a message..." Variant="Variant.Outlined" Multiline="true" Rows="4" FullWidth="true" Margin="Margin.Dense" />

<MudButton Class="mt-2" OnClick="SendMessage" Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Margin="Margin.Dense">
    Send
</MudButton>